<!-- <div class="card" style="width: 60rem">
  <div class="card-body">
    <div class="card-header">
      <div class="table-responsive-sm">
        <div
          *ngIf="dataLoaded == false"
          class="spinner-border text-primary"
          role="status"
        >
          <span class="visually-hidden"></span>
        </div>
        <table
          *ngIf="dataLoaded == true"
          class="table table-responsive-md table-striped table-hover table-bordered table caption-top"
        >
          <caption>
            Ürün Detayı
          </caption>
          <thead>
            <tr>
              <th>Id</th>
              <th>Markası</th>
              <th>Araba Adı</th>
              <th>Model Yılı</th>
              <th>Rengi</th>
              <th>Açıklama</th>
              <th>Günlük Ücret</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let carDetail of carDetails">
              <td>{{ carDetail.carId }}</td>
              <td>{{ carDetail.brandName }}</td>
              <td>{{ carDetail.carName }}</td>
              <td>{{ carDetail.modelYear }}</td>
              <td>{{ carDetail.colorName }}</td>
              <td>{{ carDetail.description }}</td>
              <td>{{ carDetail.dailyPrice | currency }}</td>
              <td>
                <button
                  routerLink="/cars"
                  type="button"
                  class="btn btn-warning"
                >
                  Geri Dön
                </button>
              </td>
              <td>
                <button
                  routerLink="/cars/rentdetail/{{ carDetail.carId }}"
                  type="button"
                  class="btn btn-success"
                >
                  Kirala
                </button>
              </td>
            </tr>
          </tbody>
        </table>

        <img
          class="card-img-top"
          *ngFor="let image of images"
          style="width: 12rem"
          src="https://localhost:44368\{{ image.imagePath }}"
        />
        <form #rentalAddForm="ngForm">
          <div class="card" style="width: 20rem">
            <mat-form-field appearance="fill">
              <mat-label>Alınacak tarih</mat-label>
              <input
                class="form-control"
                ngModel
                name="rentDate"
                matInput
                [matDatepicker]="rentdate"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="rentdate"
              ></mat-datepicker-toggle>
              <mat-datepicker #rentdate></mat-datepicker>
            </mat-form-field>

            <mat-form-field appearance="fill">
              <mat-label>Verilecek Tarih</mat-label>
              <input
                class="form-control"
                ngModel
                name="returnDate"
                matInput
                [matDatepicker]="returndate"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="returndate"
              ></mat-datepicker-toggle>
              <mat-datepicker #returndate></mat-datepicker>
            </mat-form-field>
            <button
              (click)="
                calculateAmount(
                  rentalAddForm.value.rentDate,
                  rentalAddForm.value.returnDate
                )
              "
            >
              HESAPLA
            </button>
            <td>{{ totalDay }} gün için {{ totalPrice }} TL</td>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
              <a (click)="rent()">
                <app-rent-summary [rental]="rental"></app-rent-summary>
              </a>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div> -->

<div class="card" style="width: 60rem">
  <div class="card-body">
    <div class="card-header">
      <div class="table-responsive-sm">
        <div
          *ngIf="dataLoaded == false"
          class="spinner-border text-primary"
          role="status"
        >
          <span class="visually-hidden"></span>
        </div>
        <table
          *ngIf="dataLoaded == true"
          class="table table-responsive-md table-striped table-hover table-bordered table caption-top"
        >
          <caption>
            Ürün Detayı
          </caption>
          <thead>
            <tr>
              <th>Id</th>
              <th>Markası</th>
              <th>Araba Adı</th>
              <th>Model Yılı</th>
              <th>Rengi</th>
              <th>Açıklama</th>
              <th>Günlük Ücret</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let carDetail of carDetails">
              <td>{{ carDetail.carId }}</td>
              <td>{{ carDetail.brandName }}</td>
              <td>{{ carDetail.carName }}</td>
              <td>{{ carDetail.modelYear }}</td>
              <td>{{ carDetail.colorName }}</td>
              <td>{{ carDetail.description }}</td>
              <td>{{ carDetail.dailyPrice | currency }}</td>
              <td>
                <button
                  routerLink="/cars"
                  type="button"
                  class="btn btn-warning"
                >
                  Geri Dön
                </button>
              </td>
              <td>
                <form #rentalAddForm="ngForm">
                  <div class="card" style="width: 20rem">
                    <mat-form-field appearance="fill">
                      <mat-label>Alınacak tarih</mat-label>
                      <input
                        class="form-control"
                        name="rentDate"
                        [(ngModel)]="rentDate"
                        matInput
                        [matDatepicker]="rentdate"
                      />
                      <mat-datepicker-toggle
                        matSuffix
                        [for]="rentdate"
                      ></mat-datepicker-toggle>
                      <mat-datepicker #rentdate></mat-datepicker>
                    </mat-form-field>

                    <mat-form-field appearance="fill">
                      <mat-label>Verilecek Tarih</mat-label>
                      <input
                        class="form-control"
                        name="returnDate"
                        [(ngModel)]="returnDate"
                        matInput
                        [matDatepicker]="returndate"
                      />
                      <mat-datepicker-toggle
                        matSuffix
                        [for]="returndate"
                      ></mat-datepicker-toggle>
                      <mat-datepicker #returndate></mat-datepicker>
                    </mat-form-field>
                    <button
                      (click)="
                        calculateAmount(
                          rentalAddForm.value.rentDate,
                          rentalAddForm.value.returnDate
                        )
                      "
                    >
                      HESAPLA
                    </button>
                    <td>{{ totalDay }} gün için {{ totalPrice }} TL</td>
                  </div>
                </form>
                <select
                  [(ngModel)]="customerId"
                  class="form-select"
                  aria-label="Default select example"
                  [ngModelOptions]="{ standalone: true }"
                >
                  <option
                    *ngFor="let customer of customers"
                    [value]="customer.customerId"
                  >
                    {{ customer.companyName }}
                  </option>
                </select>

                <button
                  type="button"
                  class="btn btn-outline-success"
                  data-bs-toggle="modal"
                  data-bs-target="#rentalModal"
                  id="ceren"
                  style="float: right"
                  (click)="rent()"
                >
                  Kirala
                </button>

                <div
                  class="modal fade"
                  id="rentalModal"
                  tabindex="-1"
                  aria-labelledby="rentalModalLabel"
                  aria-hidden="true"
                >
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="rentalModalLabel">
                          Araç Kiralama
                        </h5>
                        <button
                          type="button"
                          class="btn-close"
                          data-bs-dismiss="modal"
                          aria-label="Close"
                        ></button>
                      </div>
                      <div class="modal-body"></div>
                      <div class="modal-footer">
                        <button
                          type="button"
                          class="btn btn-secondary"
                          data-bs-dismiss="modal"
                        >
                          Close
                        </button>
                        <app-rent-summary
                          [rental]="rentalDetail"
                        ></app-rent-summary>
                      </div>
                    </div>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>

        <img
          class="card-img-top"
          *ngFor="let image of images"
          style="width: 12rem"
          src="https://localhost:44368\{{ image.imagePath }}"
        />
      </div>
    </div>
  </div>
</div>
